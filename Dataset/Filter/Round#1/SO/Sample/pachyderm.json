[
	{
		"Question_id": 67937857,
		"Question_title": "Pachyderm deploy GCP - no such image",
		"Question_body": "<p>I'm deploying Pachyderm on GKE but when I deploy the pipeline (following the <a href=\"https://docs.pachyderm.com/latest/getting_started/beginner_tutorial/\" rel=\"nofollow noreferrer\">https://docs.pachyderm.com/latest/getting_started/beginner_tutorial/</a>) the Pod fails in ImagePullCrashLoopBack giving this error &quot;no such image&quot;.</p>\n<p>Here, the output of the command &quot;kubectl get pods&quot;:\n<a href=\"https://i.stack.imgur.com/lpvj7.png\" rel=\"nofollow noreferrer\">screenshot</a></p>\n<p>How can I fix the deployment procedure?</p>",
		"Question_answer_count": 1,
		"Question_comment_count": 1,
		"Question_creation_date": "2021-06-11 13:26:09.943000 UTC",
		"Question_favorite_count": null,
		"Question_last_edit_date": null,
		"Question_score": 0,
		"Question_tags": "kubernetes|google-cloud-platform|pachyderm",
		"Question_view_count": 48,
		"Owner_creation_date": "2014-11-06 09:41:52.943000 UTC",
		"Owner_last_access_date": "2022-09-24 19:13:38.297000 UTC",
		"Owner_location": "Milano, Metropolitan City of Milan, Italy",
		"Owner_reputation": 107,
		"Owner_up_votes": 27,
		"Owner_down_votes": 0,
		"Owner_views": 24,
		"Answer_body": "<p>As mentioned in the Slack channel of Pachyderm community, adding the flag <code>--no-expose-docker-socket</code> to the deploy call should solve the issue.</p>\n<p><code>pachctl deploy google ${BUCKET_NAME} ${STORAGE_SIZE} --dynamic-etcd-nodes=1 --no-expose-docker-socket</code></p>",
		"Answer_comment_count": 1.0,
		"Answer_creation_date": "2021-06-11 13:29:00.677000 UTC",
		"Answer_last_edit_date": null,
		"Answer_score": 1.0,
		"Question_valid_tags": "pachyderm",
		"id": null,
		"taxonomy": null,
		"annotator": null,
		"annotation_id": null,
		"created_at": null,
		"updated_at": null,
		"lead_time": null
	},
	{
		"Question_id": 44269634,
		"Question_title": "How do you link Pachyderm with the correct Kubernetes context?",
		"Question_body": "<p>I have more than one Kubernetes context. When I change contexts, I have been using <code>kill -9</code>  to kill the port-forward in order to redo the <code>pachtctl port-forward &amp;</code> command. I wonder if this is the right way of doing it.</p>\n\n<p>In more detail:</p>\n\n<p>I start off being in a Kubernetes context, we'll call it context_x. I then want to change context to my local context, called minikube. I also want to see my repos for this minikube context, but when I use <code>pachctl list-repo</code>, it still shows context_x's Pachyderm repos. When I do <code>pachctl port-forward</code>, I then get an error message about the address being already in use. So I have to ps -a, then kill -9 on those port forward processes, and then do pachctl port-forward command again.</p>\n\n<p>An example of what I've been doing:</p>\n\n<pre><code>$ kubectl config use-context minikube\n$ pachctl list-repo #doesn't show minikube context's repos\n$ pachctl port-forward &amp;\n...several error messages along the lines of:\nUnable to create listener: Error listen tcp4 127.0.0.1:30650: bind: address already in use\n$ ps -a | grep forward\n33964 ttys002    0:00.51 kubectl port-forward dash-12345678-abcde 38080:8080\n33965 ttys002    0:00.51 kubectl port-forward dash-12345679-abcde 38081:8081\n37245 ttys002    0:00.12 pachctl port-forward &amp;\n37260 ttys002    0:00.20 kubectl port-forward pachd-4212312322-abcde 30650:650\n$ kill -9 37260\n$ pachctl port-forward &amp; #works as expected now\n</code></pre>\n\n<p>Also, kill -9 on the <code>pachctl port-forward</code> process 37245 doesn't work, it seems like I have to kill -9 on the <code>kubectl port-forward</code></p>",
		"Question_answer_count": 2,
		"Question_comment_count": 0,
		"Question_creation_date": "2017-05-30 18:42:36.220000 UTC",
		"Question_favorite_count": null,
		"Question_last_edit_date": "2018-05-03 23:50:31.087000 UTC",
		"Question_score": 4,
		"Question_tags": "kubernetes|portforwarding|pachyderm",
		"Question_view_count": 438,
		"Owner_creation_date": "2012-01-22 11:03:27.597000 UTC",
		"Owner_last_access_date": "2022-09-14 20:35:30.303000 UTC",
		"Owner_location": "San Francisco, CA, USA",
		"Owner_reputation": 3322,
		"Owner_up_votes": 319,
		"Owner_down_votes": 5,
		"Owner_views": 160,
		"Answer_body": null,
		"Answer_comment_count": null,
		"Answer_creation_date": null,
		"Answer_last_edit_date": null,
		"Answer_score": null,
		"Question_valid_tags": "pachyderm",
		"id": null,
		"taxonomy": null,
		"annotator": null,
		"annotation_id": null,
		"created_at": null,
		"updated_at": null,
		"lead_time": null
	},
	{
		"Question_id": 53989099,
		"Question_title": "Pachyderm pipeline unable to pull docker image",
		"Question_body": "<p>I have successfully pushed my docker image to the registry:\n<code>my-username/image-name</code></p>\n\n<p>However, pachyderm is still unable to pull docker image(from logs):</p>\n\n<pre><code>container \"user\" in pod \"pipeline-mopng-beneficiary-v2-v1-b6kln\" is waiting to start: trying and failing to pull image\n</code></pre>\n\n<p>Where should I specify the image so that pachyderm is able to pull one?\nThis is my config file:</p>\n\n<pre><code>{\n    \"pipeline\": {\n        \"name\": \"mopng-beneficiary-v2\"\n    },\n    \"input\": {\n        \"pfs\": {\n            \"repo\": \"mopng_beneficiary_v2\",\n            \"glob\": \"/*\"\n        }\n    },\n    \"transform\": {\n        \"cmd\": [\"python3\", \"/pclean.py /pfs/mopng_beneficiary_v2/euoEQHIwIQTe1wXtg46fFYok.csv /pfs/mopng_beneficiary_v2//Users/aviralsrivastava/Downloads/5Feb18_master_ujjwala_latlong_dist_dno_so_v7.csv /pfs/mopng_beneficiary_v2//Users/aviralsrivastava/Downloads/ppac_master_v3_mmi_enriched_with_sanity_check.csv /pfs/mopng_beneficiary_v2/Qc.csv\"],\n        \"image\": \"username/my-image\"\n    }\n}\n</code></pre>",
		"Question_answer_count": 1,
		"Question_comment_count": 1,
		"Question_creation_date": "2018-12-31 15:38:12.627000 UTC",
		"Question_favorite_count": 1.0,
		"Question_last_edit_date": null,
		"Question_score": 1,
		"Question_tags": "docker|pachyderm",
		"Question_view_count": 158,
		"Owner_creation_date": "2018-07-10 15:06:30.283000 UTC",
		"Owner_last_access_date": "2019-02-13 09:38:09.970000 UTC",
		"Owner_location": "delhi",
		"Owner_reputation": 903,
		"Owner_up_votes": 53,
		"Owner_down_votes": 0,
		"Owner_views": 144,
		"Answer_body": null,
		"Answer_comment_count": null,
		"Answer_creation_date": null,
		"Answer_last_edit_date": null,
		"Answer_score": null,
		"Question_valid_tags": "pachyderm",
		"id": null,
		"taxonomy": null,
		"annotator": null,
		"annotation_id": null,
		"created_at": null,
		"updated_at": null,
		"lead_time": null
	}
]